---
id: outline-board
title: 大纲生成与编辑
slug: /outline-board
---

大纲看板是 LandPPT 的第二阶段：在需求确认后由 AI 自动输出 PPT 结构，并允许人工审阅、迭代和导出。本页梳理「需求确认 → AI 生成 → 浏览/编辑 → 导出/同步」的全过程。

![image](https://img.pub/p/faaba47af004f0f38a73.png)

## 1. 需求确认

进入看板后会先看到「需求确认」卡片：

- **内容来源**：选择「手动输入主题」或「从文件生成」。文件模式支持多选 PDF/DOCX/TXT/MD/图片/Excel（单个≤100MB），上传后会列出清单并提供 OCR/表格抽取等选项。
- **高级配置**：包括行业、语气、语言、目标页数、模板、AI 模型、图像策略、是否启用深度研究等。不同字段会直接影响 AI 输出。
- **阶段提示**：页面顶部显示 TODO 看板样式的阶段卡（需求确认 → 大纲生成 → PPT 生成），每个阶段都有 `pending / in_progress / completed` 状态，便于复盘。

填写完毕后点击「确认需求并生成大纲」，系统进入 AI 生成流程。

## 2. AI 生成进度

- **动态提示**：页面中间会展示 AI 大脑动画、进度环和提示语，反映当前任务状态。
- **实时日志**：右侧的执行日志会滚动输出后端事件（解析文件、调用模型、写入数据库），便于排错。
- **阶段切换**：生成完成后按钮变为「查看大纲」「重新生成大纲」，你可以选择继续或重新生成。

## 3. 大纲浏览

生成完成后会展示「AI 生成的大纲」，提供两种视图：

- **简洁视图**：网格卡片显示页码、标题、副标题、首条要点，可快速判断整体逻辑。
- **详细视图**：列表形式展示 `content_points` 或 `content` 全量信息、幻灯片类型等，适合逐条校对。

常用操作：

- 点击卡片主体或「查看详情」按钮，会弹出 modal 展示全部要点、类型、标签。
- 点击「编辑此页」可修改标题、要点、类型，保存后立即写回 JSON。
- 使用「视图切换」按钮在简洁/详细模式之间切换。

## 4. 编辑大纲 JSON

- 点击「编辑大纲」进入 CodeMirror 样式的文本编辑器，可对整个 JSON 结构进行批量调整（新增/删除幻灯片、修改 metadata、调整语言等）。
- **AI 优化**：右侧提供「优化大纲」按钮，自动调用 AI 对当前 JSON 做润色与结构优化，生成的内容会直接载入编辑器，你可以再确认保存。
- **保存校验**：保存前会执行 `JSON.parse` 检查，随后调用 `/projects/{projectId}/update-outline`。若 JSON 格式错误，界面会提示。
- **导出 JSON**：点击「导出为 JSON」即可下载完整大纲文件，文件名包含标题和日期，适合归档或在其它环境导入。

## 5. 与项目联动

- 「项目概览」区域展示大纲 metadata（标题、场景、语言等）并提供「同步到 PPT 编辑器」按钮。点击后跳转 `/project/{projectId}/slides/editor`，即可根据该大纲生成幻灯片。
- 若发现需求填写有误，可重新开启「需求确认」阶段：修改信息、再次提交，旧大纲会被覆盖（建议先导出备份）。
- 多语言或深度研究项目会在大纲卡片上显示标签，方便区分不同版本。

## 6. 推荐流程

1. 上传素材或手动填写需求 → 选择模型/模板 → 提交生成。
2. 通过进度动画与日志了解 AI 状态。
3. 在简洁视图中检查结构、页数、标题。
4. 切换到详细视图或单页详情，逐条核对要点，并视情况编辑。
5. 若需大幅调整，打开 JSON 编辑器批量修改，或点击「重新生成」。
6. 导出 JSON 做备份，然后同步到 PPT 编辑器生成 HTML。

## 提示与最佳实践

- **多文件上传**：上传列表下方会出现「文件处理选项」，针对 PDF/OCR/图片等选择不同策略；提交前可“清除所有”重新上传。
- **页数控制**：需求表单中的页数直接影响 `slides.length`；模板选择将影响 `slide_type`，在编辑器中可以再微调。
- **版本管理**：建议在每次重大修改前使用「导出 JSON」备份，方便回滚。
- **协同编辑**：当多人同时修改时，请及时刷新页面以获取最新 JSON，避免相互覆盖。

大纲看板连接了“需求收集 → AI 生成 → 人工校对”，同时兼顾可视化与 JSON 编辑两种工作方式，让你既能快速获取 AI 提案，也能精确掌控结构输出。
