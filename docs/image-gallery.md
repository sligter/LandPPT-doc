---
id: image-gallery
title: 图床服务说明
slug: /image-gallery
---

LandPPT 内置「本地图床管理」用于集中存储、检索和清理图片资源，是 AI 配图、模板预览和 PPT 编辑器的共同依赖。下面将按「快速上手 → 上传/编辑 → 批量运维 → 最佳实践」展开。

## 快速上手

- **分类筛选**：左侧下拉可切换 `AI生成` / `网络搜索` / `本地上传` / `全部`。
- **搜索与排序**：输入框实时匹配标题/描述/标签；排序支持创建时间、最近访问、文件大小等。
- **分页与刷新**：底部分页组件由 `/api/image/gallery/list` 返回元数据驱动，可自由切换每页条数。
- **快捷按钮**：右上角提供 `📤 上传图片`、`☑️ 批量选择`、`🔄 刷新`。

## 上传流程

1. 点击 `📤 上传图片` 打开模态框，可拖拽或多选文件。
2. 在「图片信息」区域预设标题、描述、标签、分类，提升后续检索/AI 匹配准确度。
3. 点击「开始上传」，前端逐个调用 `/api/image/upload`，显示实时进度与成功数。
4. 上传完成后自动刷新列表，若失败会在状态栏给出原因（如文件超限、网络错误）。

## 详情与编辑

- 点击缩略图或操作按钮会打开详情 modal，通过 `/api/image/detail/{image_id}` 返回数据。
- 模态内容分为三块：
  - **可编辑信息**：标题、描述、标签、分类，可切换编辑模式后调用 `PUT /api/image/{id}/update` 保存。
  - **文件信息**：文件名、大小、尺寸、格式、来源、创建时间、访问次数，便于审计。
  - **操作区**：下载图片、复制直链、删除文件（DELETE `/api/image/{id}`），删除前会二次确认。
- 编辑过程中可随时取消；保存成功后自动刷新列表和详情。

## 批量与快捷操作

- 启用「☑️ 批量选择」后，每张图片都会出现复选框；顶部显示已选数量并提供“全选/清空/批量下载/批量删除/清空图床”等操作。
- 键盘辅助：`Ctrl+A`（批量模式下全选）、`Delete`（删除选中）、`Esc`（关闭模态/上传框）。
- 刷新按钮可立即重新拉取 `/api/image/gallery/list`，适合大量删除或脚本上传后的同步。

## UI 与交互细节

- 缩略图使用 `/api/image/thumbnail/{id}`，失败时会自动切换到 `/static/images/placeholder.svg`。
- 上传/详情模态对移动端做了粘性按钮与大字号输入优化；进度条、提示框共用 `showSuccess/showError` 辅助函数。
- 全屏图片预览页支持下载/删除，方便在 PPT 编辑器内快速替换。

## 最佳实践

- **标签规范**：建议采用「场景-语言」或「行业-用途」组合（如 `finance-cn`），便于搜索。
- **描述与引用**：填写描述有助于 AI 生成配图提示，也方便团队成员理解图片语义。
- **分类清理**：区分 `ai_generated`、`web_search`、`local_storage`，可以快速找到需要清空的来源。
- **清空图床**：仅在确认没有项目引用这些图片时使用「清空图床」，该操作不可撤销。
- **访问统计**：依据访问次数识别热门素材，可考虑提炼为模板或常用插图。

结合图床服务和 [系统配置](./configuration.md#4-图片服务)，可以构建安全、可控的企业级图片仓库，支撑 AI 配图、模板预览以及 PPT 编辑器中的所有视觉资产。
